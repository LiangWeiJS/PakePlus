(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{1303:function(t,e,n){"use strict";n.r(e);var i=n("1f94"),s=n("8c91");for(var a in s)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(a);n("8db1");var o=n("828b"),r=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"15fa4494",null,!1,i["a"],void 0);e["default"]=r.exports},1770:function(t,e,n){var i=n("59a68");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=n("967d").default;s("76e4e7db",i,!0,{sourceMap:!1,shadowMode:!1})},1851:function(t,e,n){"use strict";var i=n("8bdb"),s=n("84d6"),a=n("1cb5");i({target:"Array",proto:!0},{fill:s}),a("fill")},"1f94":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-web-view",{attrs:{src:t.address,"webview-styles":t.webviewStyles},on:{message:function(e){arguments[0]=e=t.$handleEvent(e),t.postMessage.apply(void 0,arguments)}}})],1)},s=[]},"59a68":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".content[data-v-15fa4494]{display:flex;flex-direction:column;align-items:center;justify-content:center}",""]),t.exports=e},"5a2e":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("5ef2"),n("5c47"),n("a1c1"),n("f7a5"),n("c223"),n("d4b5"),n("bf0f"),n("2797"),n("aa9c"),n("3efd");var s,a=i(n("9b1b")),o=n("c158"),r=n("8f59"),l={data:function(){return{webviewStyles:{top:80,bottom:0,progress:{color:"#ccc"}},content:"",realmName:"",cishu:1,tempjb:[],fanhuigame:!1,xunhuan:1,shiquwupin:[],gongjiType:"普通攻击",maiyao:{diyu:100,mai:200,name:"万年灵芝"},qiangxian:"",tulong:"",wujiangarr:[],wujiangarrIndex:-1,bianliang:{wjname:""},shuguai:{"景阳左追风":{interval:54e5,lastTime:0},"黄泥左驾风":{interval:54e5,lastTime:0},"人字老大":{interval:54e5,lastTime:0},"和字老大":{interval:54e5,lastTime:0},"景阳右摘星":{interval:72e5,lastTime:0},"黄泥右观景":{interval:72e5,lastTime:0},"柴家上飞贼":{interval:72e5,lastTime:0},"地字老大":{interval:72e5,lastTime:0},"柴家下飞贼":{interval:51e5,lastTime:0},"天字老大":{interval:81e5,lastTime:0},"鱼鹰":{interval:36e5,lastTime:0},"巨兽":{interval:48e5,lastTime:0},"蛇胆":{interval:12e5,lastTime:0}}}},onLoad:function(){uni.hideTabBar();var t=this,e=this.$scope.$getAppWebview();setTimeout((function(){s=e.children()[2],s.appendJsFile("static/uni.js"),s.appendJsFile("static/base.js")}),900),uni.getSubNVueById("right").hide(),setTimeout((function(t){uni.getSubNVueById("header").show()}),1e3),uni.$on("jiaoben-status",(function(e){t.eventfn(e)})),uni.$on("shuqian-change",(function(t){console.log(t),s.loadURL(t)}))},computed:(0,a.default)({},(0,r.mapState)(["status","runStatus","jblist","jblistIndex","timer","xhcs","jbinit","address","luzhiStatus","myurl","jiaobenconfig","bclc","alljblist","alljblistindex"])),methods:{eventfn:function(t){if("going"==t.name&&this.alljblist.length){var e;this.xunhuan=1;var n=this.alljblist[this.alljblistindex];if("买药"==n.name&&(this.maiyao.diyu=n.xhcs,this.maiyao.mai=n.bclc,this.maiyao.name=n.gongjiType,n.bclc=0,n.xhcs=1),Object.hasOwnProperty.call(this.shuguai,n.name)){var i=this.shuguai[n.name];if(Date.now()-i.lastTime<i.interval)return void this.panduancishu();this.shuguai[n.name].lastTime=Date.now()}if("屠龙"==n.name){var s=(new Date).getHours(),a=(new Date).getDate(),o=(new Date).getMinutes(),r=!1;if(!(12==s&&this.tulong!=a+12&&o<29))return void this.panduancishu();if(this.tulong=a+12,r=!0,!r){if(!(20==s&&this.tulong!=a+20&&o<29))return void this.panduancishu();this.tulong=a+20}}if("抢仙"==n.name){var l=(new Date).getHours(),u=(new Date).getDate(),c=(new Date).getMinutes();if(console.log(l,c),!(l>=18&&c>50&&this.qiangxian!=u&&l<20))return void this.panduancishu();this.qiangxian=u}this.$store.commit("setbclc",n.bclc),this.$store.commit("setxhcs",n.xhcs),this.gongjiType=null!==(e=n.gongjiType)&&void 0!==e?e:"普通攻击",this.requestjiaoben(n.name,n.type)}else this.init()},requestjiaoben:function(t,e){var n=this;1!=e?2!=e||plus.io.requestFileSystem(plus.io.PRIVATE_DOC,(function(e){var i=e.root.toURL();e.root.getFile(i+"/uniapp_save/"+t+".json",{create:!1},(function(t){t.file((function(t){var e=new plus.io.FileReader;e.readAsText(t,"utf-8"),e.onloadend=function(t){var e=t.target.result;n.$store.commit("setJblist",JSON.parse(e)),n.init()}}))}))})):uni.request({url:"http://diwang.nestjs.vip/jiaoben/"+t+".json",success:function(t){var e=t.data;n.$store.commit("setJblist",e),n.init()}})},sendrequest:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=this;-1!=t.indexOf("version=")&&console.log(a.content),uni.request({url:t,header:{Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","Accept-Encoding":"gzip, deflate","Content-Type":"application/x-www-form-urlencoded"},method:n,data:i,success:function(n){a.$store.commit("setmyurl",t),a.content=n.data,s.loadData(a.content.replace(/a/g,"hh")),setTimeout((function(){e()}),a.timer)},fail:function(t){console.log(t),uni.showToast({title:"请求失败，重连中。。。 "}),setTimeout((function(){a.http()}),1e4)}})},init:function(){var t=this.alljblist.length?this.alljblist[this.alljblistindex].name:"开始执行";uni.showToast({title:t}),0==this.alljblistindex&&this.$store.commit("setmyurl",s.getURL()),this.realmName=this.myurl.slice(0,this.myurl.indexOf("/",10)+1),this.sendrequest(this.myurl,this.http)},clickFast:function(){var t=this;return-1!=this.content.indexOf(">继续</a>")&&-1==this.content.indexOf("刷新")?(console.log("点击过快"),setTimeout((function(){t.singleCommand("继续")}),2e3),1):0},runStop:function(){this.$store.commit("setJblistIndex",0),this.$store.commit("setalljblistindex",0),this.cishu=1,this.xunhuan=1,this.$store.commit("setStatus","stop"),s.loadURL(this.url),this.$store.commit("setmyurl",this.url),uni.showToast({title:"执行完毕"})},panduancishu:function(){if(this.alljblistindex>=this.alljblist.length-1)this.runStop();else{var t=this.alljblistindex;this.$store.commit("setalljblistindex",t+1),this.$store.commit("setJblistIndex",0),this.eventfn({name:"going"})}},http:function(){var t=this;if(!t.tempjb.length&&1==t.bclc&&t.jblistIndex>0&&"返回游戏"==t.jblist[t.jblistIndex-1].title&&t.fanhuigame&&(t.fanhuigame=!1,t.tempjb=["武将","供给粮草","返回游戏"]),t.tempjb.length)t.singleCommand(t.tempjb.shift());else{if(t.jblistIndex>=t.jblist.length){if(t.cishu>=t.xhcs){if(t.cishu=1,t.alljblistindex>=t.alljblist.length-1)t.runStop();else{var e=t.alljblistindex;t.$store.commit("setalljblistindex",e+1),t.$store.commit("setJblistIndex",0),t.eventfn({name:"going"})}return}t.$store.commit("setJblistIndex",0),t.cishu++}if("stop"!=t.status){if("going"==t.status&&"suspend"==t.runStatus)return s.loadURL(this.url),this.$store.commit("setmyurl",this.url),void uni.showToast({title:"暂停执行"});var n=t.jblist[t.jblistIndex].title,i=t.jblist[t.jblistIndex].type;if(!n)return t.$store.commit("setJblistIndex",t.jblistIndex+1),void t.http();if(!t.clickFast()){if(0==t.jblistIndex&&"shiquwupin"===i)return t.shiquwupin=n.split("|"),t.shiquwupin.concat(["御林剑客训练术","禁军侍卫训练术","神奇丹药","神奇丹药","天书油墨","高级锻造石","高级坐骑饲料"]),t.$store.commit("setJblistIndex",t.jblistIndex+1),void t.http();if("shengji"==i){var a=t.jblist[t.jblistIndex].name;if(console.log(a),a.to){var r=(0,o.getsubstr)("等级:"," [<a",t.content);"-1"==r&&(r=(0,o.getsubstr)("等级:","<br/>",t.content)),r=a.to-r,a="number"==typeof r?r:0,console.log(a)}else a=a||1;t.tempjb=[];for(var l=0;l<a;l++)t.tempjb=t.tempjb.concat(["升级","确定升级","加速","加速全部"]);return t.$store.commit("setJblistIndex",t.jblistIndex+1),void t.http()}if("panduanwujiang"==i){var u=(0,o.getsubstr)("近身军队:","<br/>",t.content);return t.wujiangarr=(0,o.searchContent)(u),console.log(t.wujiangarr),t.$store.commit("setJblistIndex",t.jblistIndex+1),void t.http()}if("xiulikaishi"!=i){if("bianliang"==i&&(n=t.bianliang[n]?t.bianliang[n]:t.gongjiType),"xunhuan"==i){var c=t.jblist[t.jblistIndex].name;if(console.log("循环指令",n,c,this.xunhuan),this.xunhuan<c)return this.xunhuan++,void t.singleCommand(n);this.xunhuan=1}if("ljpd"!=i)if("stop"!=i){if("luojipanduan"==i){console.log("逻辑判断答题",n);var h=t.jblist[t.jblistIndex].name;if(-1!=this.content.indexOf(h)&&-1!=this.content.indexOf(n)){var d=(0,o.chazhao)(t.content,n);if(d)return t.url=t.realmName+d.replace(/amp;/g,""),void t.sendrequest(t.url,(function(){t.$store.commit("setJblistIndex",0),t.cishu++,t.http()}))}return t.$store.commit("setJblistIndex",t.jblistIndex+1),void t.http()}if("maiyao"==i){if(-1!=t.content.indexOf(t.maiyao.name)){var f=(0,o.getsubstr)(t.maiyao.name+"x","</a>",t.content);if(console.log(f),1*f>t.maiyao.diyu)return t.$store.commit("setJblistIndex",t.jblistIndex+11),void t.http()}var m=JSON.parse(JSON.stringify(t.jblist));return m[12].name.count=t.maiyao.mai,m[11].title=t.maiyao.name,t.$store.commit("setJblist",m),t.$store.commit("setJblistIndex",t.jblistIndex+1),void t.http()}if("ljhoutui"!=i)if("ljqianjin"!=i){if("返回游戏"==n){if(t.fanhuigame=!0,-1!=this.content.indexOf(">允许他人加入战场</a>")&&-1!=this.content.indexOf(">查看详情</a>")&&-1==this.content.indexOf("游戏首页"))return console.log("循环指令",this.gongjiType),void(-1==this.content.indexOf(this.gongjiType)?(uni.showModal({title:"提示",content:"攻击指令:".concat(t.gongjiType,"不存在,脚本暂停"),showCancel:!1}),s.loadURL(this.url),this.$store.commit("setRunStatus","suspend"),this.$store.commit("setmyurl",this.url)):t.singleCommand(this.gongjiType));if(t.shiquwupin.length&&-1!=this.content.indexOf("查看详情")&&-1==t.content.indexOf("游戏首页")&&-1==t.content.indexOf("你的负载过重"))for(l=0;l<t.shiquwupin.length;l++)if(-1!=t.content.indexOf(t.shiquwupin[l])){var g=(0,o.chazhao)(t.content,t.shiquwupin[l]);if(g)return t.url=t.realmName+g.replace(/amp;/g,""),void this.sendrequest(t.url,(function(){t.http()}))}}d="";if(d="post"==i?(0,o.chazhao)(t.content,"post"):"more"==i?(0,o.chazhao)(t.content,n,0,1*name):(0,o.chazhao)(t.content,n),!d||d.length<20)return console.log("未找到",d,n,t.jblist[t.jblistIndex]),t.$store.commit("setJblistIndex",t.jblistIndex+1),void t.http();if(-1!=d.indexOf("http")?(t.realmName=d.slice(0,d.indexOf("/",10)+1),console.log(t.realmName),t.url=d.replace(/amp;/g,"")):t.url=t.realmName+d.replace(/amp;/g,""),console.log(t.realmName,t.url,t.jblist[t.jblistIndex]),"post"==i){var b=t.jblist[t.jblistIndex].name;if(-1!=this.content.indexOf("请输入")&&-1!=this.content.indexOf("返回游戏")&&-1!=this.content.indexOf("提交"))if(-1!=this.content.indexOf("的结果")){var p=this.content.indexOf("请输入:"),v=this.content.indexOf("的结果"),x=this.content.substring(p+4,v),j=x.split("+"),w=0;j.forEach((function(t){w+=1*t})),b.guaji_name=w+"",console.log(p,v,b,j)}else{var I=this.content.indexOf("请输入文字:"),y=this.content.indexOf("<br/>"),O=this.content.substring(I+6,y);b.guaji_name=O,console.log(I,y,b)}this.sendrequest(t.url,(function(){t.$store.commit("setJblistIndex",t.jblistIndex+1),t.http()}),"POST",b)}else this.sendrequest(t.url,(function(){t.$store.commit("setJblistIndex",t.jblistIndex+1),t.http()}))}else{console.log("逻辑判断前进",n);var $=t.jblist[t.jblistIndex].name;-1==this.content.indexOf(n)?(t.$store.commit("setJblistIndex",t.jblistIndex-$),t.http()):(t.$store.commit("setJblistIndex",t.jblistIndex+1),t.http())}else{console.log("逻辑判断后退",n);var T=t.jblist[t.jblistIndex].name;-1!=this.content.indexOf(n)?(t.$store.commit("setJblistIndex",t.jblistIndex-T),t.http()):(t.$store.commit("setJblistIndex",t.jblistIndex+1),t.http())}}else this.bclc?(s.loadURL(this.url),this.$store.commit("setRunStatus","suspend"),this.$store.commit("setmyurl",this.url)):(t.$store.commit("setJblistIndex",t.jblistIndex+1),t.http());else{var J=t.jblist[t.jblistIndex].name;-1!=this.content.indexOf(n)?(t.$store.commit("setJblistIndex",1*J.cunzai),t.http()):(t.$store.commit("setJblistIndex",1*J.bucunzai),t.http())}}else{if(t.wujiangarrIndex++,t.wujiangarrIndex<t.wujiangarr.length){var S=t.wujiangarr[t.wujiangarrIndex].data,q=S.substring(0,S.indexOf("部"));t.bianliang.wjname=q,t.tempjb=[S,q],t.$store.commit("setJblistIndex",t.jblistIndex+1)}else t.$store.commit("setJblistIndex",t.jblist.length-1),t.wujiangarrIndex=-1;t.http()}}}else t.runStop()}},postMessage:function(t){if(this.luzhiStatus){var e=t.detail.data[0].title;uni.showToast({title:e,duration:200}),this.jblist.push({title:e}),this.$store.commit("setJblist",this.jblist)}console.log(t.detail.data[0].href),this.$store.commit("setmyurl",t.detail.data[0].href)},singleCommand:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right",n=this,i=(0,o.chazhao)(n.content,t,e);if(i.length<2)return console.log("未找到++"+t,n.content),void n.http();"供给粮草"==t&&-1!=this.content.indexOf("我的军队")&&n.tempjb.unshift("供给粮草"),-1!=i.indexOf("http")?(n.realmName=i.slice(0,i.indexOf("/",10)+1),n.url=i.replace(/amp;/g,"")):n.url=n.realmName+i.replace(/amp;/g,""),this.sendrequest(this.url,(function(){n.http()}))},open:function(){},close:function(){this.show=!1}}};e.default=l},"8c91":function(t,e,n){"use strict";n.r(e);var i=n("5a2e"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=s.a},"8db1":function(t,e,n){"use strict";var i=n("1770"),s=n.n(i);s.a},c158:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.wenbenHou=e.shuffleArray=e.searchHaveContent=e.searchContent=e.jiaoben=e.isTimeBetween=e.getsubstr=e.getHtml=e.findPath=e.chazhao=void 0;var s=i(n("5de6"));n("5ef2"),n("5c47"),n("2c10"),n("aa9c"),n("4626"),n("8f71"),n("bf0f"),n("fd3c"),n("08eb"),n("18f7"),n("1851"),n("5ac7"),n("a1c1"),n("e966"),n("2797"),n("d4b5");e.jiaoben=[{name:"树怪+日常",title:"shuguai"}];e.chazhao=function(t,e){if("post"==e){var n=t.indexOf('action="');if(-1==n)return"";var i=t.indexOf('"',n+8);return-1==i&&(i=t.indexOf("'",n+8)),t.substring(n+8,i)}if(!t||!e)return"";var s=a(t,e);return s||""};var a=function(t,e){var n=t.match(/<a\b[^>]+\bhref="([^"]*)"[^>]*>([\s\S]*?)<\/a>/g);n||(n=t.match(/<a\b[^>]+\bhref='([^']*)'[^>]*>([\s\S]*?)<\/a>/g));var i=e.split("&");e=i[0];for(var s=0;s<n.length;s++)if(-1!=n[s].indexOf(e)){t=n[s];var a=t.match(/href="([^"]*)"/);if(!a)t.match(/href='([^']*)'/);return a?a[1]:""}};e.searchHaveContent=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.match(/<a\b[^>]+\bhref="([^"]*)"[^>]*>([\s\S]*?)<\/a>/g);a||(a=t.match(/<a\b[^>]+\bhref='([^']*)'[^>]*>([\s\S]*?)<\/a>/g));var o=[];s&&(e=">"+e+"<");for(var r=0;r<a.length;r++)if(t=a[r],-1!=t.indexOf(e)){var l=t.match(/href="([^"]*)"/)[1];if(!l)t.match(/href='([^']*)'/)[1];o.push({url:l})}return o.length?n?o.length==n?(console.log(o,n,o[i].url,e,i),o[i].url):"":o[i]?o[i].url:"":""};e.searchContent=function(t){var e=t.match(/<a\b[^>]+\bhref="([^"]*)"[^>]*>([\s\S]*?)<\/a>/g);e||(e=t.match(/<a\b[^>]+\bhref='([^']*)'[^>]*>([\s\S]*?)<\/a>/g));for(var n=[],i=0;i<e.length;i++){t=e[i];var s=t.match(/href="([^"]*)"/)[1];if(!s)t.match(/href='([^']*)'/)[1];var a=o(">","<",t);n.push({data:a,url:s})}return n};var o=function(t,e,n){var i=n.indexOf(t),s=n.indexOf(e,i+t.length);return-1==i||-1==s?-1:n.substring(i+t.length,s)};e.getsubstr=o;e.isTimeBetween=function(t,e){var n=new Date,i=new Date(n.toDateString()+" "+t),s=new Date(n.toDateString()+" "+e);return n>=i&&n<=s};e.wenbenHou=function(t,e){var n=t.indexOf(e);if(-1==n)return"";if(t=t.substring(n),t=t.match(/<a\b[^>]+\bhref="([^"]*)"[^>]*>([\s\S]*?)<\/a>/),!t.length)return"";t=t[0];var i=t.match(/href="([^"]*)"/);if(!i.length)return"";i=i[1];var s=o(">","<",t);return{url:i,data:s}};e.shuffleArray=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),i=[t[n],t[e]];t[e]=i[0],t[n]=i[1]}return t};e.findPath=function(t,e){console.log(t,e),["百兽山岭","狂盗山谷","万剑宝塔"].includes(t)&&(t="千年古墓");var n=uni.getStorageSync("map").filter((function(e){return e.title==t}))[0];if(console.log(n),!n)return[];for(var i=0,a=0,o=0;o<n.map.length;o++)for(var r=0;r<n.map[o].length;r++){var l=n.map[o][r];(l+"").split("&")[0]==n.enter&&(i=o,a=r)}n=n.map;var u=n.length,c=n[0].length,h=Array.from({length:u},(function(){return Array(c).fill(!1)}));function d(t,e){return t>=0&&t<u&&e>=0&&e<c&&1!==n[t][e]&&!h[t][e]}var f=[];return function t(i,a,o,r){if(i<0||i>=u||a<0||a>=c||1===n[i][a]||h[i][a])return!1;o.push({x:i,y:a,type:r}),h[i][a]=!0;var l=n[i][a].split("&"),f=[];if(l.includes("上")&&f.push([-1,0]),l.includes("下")&&f.push([1,0]),l.includes("左")&&f.push([0,-1]),l.includes("右")&&f.push([0,1]),l[0]===e)return!0;for(var m=0,g=f;m<g.length;m++){var b=(0,s.default)(g[m],2),p=b[0],v=b[1],x="";-1==p&&0==v&&(x="上"),1==p&&0==v&&(x="下"),0==p&&-1==v&&(x="左"),0==p&&1==v&&(x="右");var j=i+p,w=a+v;if(d(j,w)&&t(j,w,o,x))return!0}return o.pop(),!1}(i,a,f),f};e.getHtml=function(t,e){uni.request({url:"https://www.jianshu.com/p/"+t,method:"GET",success:function(t){var n=t.data;n=function(t){return t.replace(/\\u([0-9a-fA-F]{4})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))}))}(n);var i=n.match(/<code>(.*?)<\/code>/g);i?i.forEach((function(t){var n=t.replace("<code>","");n=n.replace("</code>",""),n=n.replace(/\\n/g,""),n=n.replace(/\\/g,""),e(JSON.parse(JSON.parse(JSON.stringify(n))))})):console.log("No <code> tags found.")}})}}}]);